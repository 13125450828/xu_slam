#include "ros/ros.h"
#include "facerobot/greeting.h"




int main(int argc, char **argv)
{
	ros::init(argc, argv, "facerobot");
	ros::NodeHandle n;
      
	ros::ServiceClient client = n.serviceClient<facerobot::greeting>("greeting");
        
        facerobot::greeting srv1;
 
        //int DetectFace（const std::string& imageData, bool isBigFace, std::string &rsp）；
        //。imageData 待检测的图片数据
        //。isBigFace 是否大脸模式
        //。rsp 返回的检测结果，JSON字符串，
        //。从该方法中get到检测到的人脸的name，若在数据库中匹配不到，则为NULL；
        //。将msg.name 设为检测到的人脸的name;
        srv1.request.name="刘女士";
        
        if(client.call(srv1))
        {
           printf("%s\n",srv1.request.name.c_str());
           printf("服务结束！\n");
        }
        else
        {
           ROS_ERROR("Failed to call service identity");
           return 1;
        }

        return 0;

}

